"use strict";(self.webpackChunkreact_way_of_samurai=self.webpackChunkreact_way_of_samurai||[]).push([[476],{7476:function(e,n,r){r.r(n),r.d(n,{default:function(){return I}});var s=r(2791),i=r(8687),t=r(1413),a=r(4942),l=r(9439),o="Paginator_paginator__nDK9Q",c="Paginator_pageNumber__7O7BU",u="Paginator_selectedPage__CRNLp",f=r(1418),d=r.n(f),h=r(8677),m=r(184),x=function(e){for(var n=e.totalItemsCount,r=e.pageSize,i=e.currentPage,t=e.onPageChanged,f=e.portionSize,x=void 0===f?10:f,j=Math.ceil(n/r),g=[],v=1;v<=j;v++)g.push(v);var p=Math.ceil(j/x),_=(0,s.useState)(1),w=(0,l.Z)(_,2),b=w[0],P=w[1],Z=(b-1)*x+1,C=b*x;return(0,m.jsxs)("div",{className:o,children:[b>1&&(0,m.jsx)(h.ZP,{onClick:function(){P(b-1)},children:"PREV"}),g.filter((function(e){return e>=Z&&e<=C})).map((function(e){return(0,m.jsx)(h.ZP,{className:d()((0,a.Z)({},u,i===e),c),onClick:function(n){t(e)},children:e},e)})),p>b&&(0,m.jsx)(h.ZP,{onClick:function(){P(b+1)},children:"NEXT"})]})},j="users_userPhoto__sKbuw",g="users_userContainer__GxoWz",v="users_followUnfollowContainer__fBkFD",p="users_usersContainer__QZHtT",_="users_searchBarContainer__BX1h9",w=r(4353),b=r(1087),P=function(e){var n=e.user,r=e.followingInProgress,s=e.unfollowUser,i=e.followUser;return(0,m.jsxs)("div",{className:g,children:[(0,m.jsxs)("span",{children:[(0,m.jsx)("div",{children:(0,m.jsx)(b.OL,{to:"/profile/"+n.id,children:(0,m.jsx)("img",{src:null!=n.photos.small?n.photos.small:w,className:j,alt:"image profile"})})}),(0,m.jsx)("div",{className:v,children:n.followed?(0,m.jsx)(h.ZP,{type:"primary",disabled:r.some((function(e){return e===n.id})),onClick:function(){s(n.id)},children:"Unfollow"}):(0,m.jsx)(h.ZP,{disabled:r.some((function(e){return e===n.id})),onClick:function(){i(n.id)},children:"Follow"})})]}),(0,m.jsxs)("span",{children:[(0,m.jsxs)("span",{children:[(0,m.jsx)("b",{children:n.name})," ",(0,m.jsx)("div",{children:n.status})]}),(0,m.jsxs)("span",{children:[(0,m.jsx)("div",{children:"user.location.country"}),(0,m.jsx)("div",{children:"user.location.city"})]})]})]})},Z=r(5705);function C(e){return{}}var k=(0,s.memo)((function(e){var n=e.onFilterChanged;return(0,m.jsxs)("div",{className:_,children:[(0,m.jsx)("h1",{children:"Search an user"}),(0,m.jsx)("p",{children:" Try Searching \"Viorel\". I have an original name. I'm pretty sure I'm still the only Viorel on the platform :)) "}),(0,m.jsx)(Z.J9,{initialValues:{term:"",friend:null},validate:C,onSubmit:function(e,r){var s=r.setSubmitting,i=function(e){var n;switch(e.friend){case"true":n=!0;break;case"false":n=!1;break;default:n=null}return{term:e.term,friend:n}}(e);n(i),s(!1)},children:function(e){e.isSubmitting;return(0,m.jsxs)(Z.l0,{children:[(0,m.jsx)(Z.gN,{type:"text",name:"term"}),(0,m.jsxs)(Z.gN,{name:"friend",as:"select",children:[(0,m.jsx)("option",{value:"null",children:"All Users"}),(0,m.jsx)("option",{value:"true",children:"Followed"}),(0,m.jsx)("option",{value:"false",children:"Unfollowed"})]}),(0,m.jsx)("button",{type:"submit",children:" Search"})]})}})]})})),y=r(7572),N=r(7689),S=r(3292),U=function(){var e=(0,i.I0)(),n=(0,i.v9)(S.FZ),r=(0,i.v9)(S.qZ),a=(0,i.v9)(S.b7),l=(0,i.v9)(S.AW),o=(0,i.v9)(S.sw),c=(0,i.v9)(S.yg),u=function(n){e((0,y.P_)(n))},f=function(n){e((0,y.F6)(n))};(0,s.useEffect)((function(){e((0,y.Rf)(n,a,o))}),[]);var d=function(){var e=(0,N.s0)();return function(n,r){return e("".concat(n,"?").concat((0,b.fW)(r)))}}(),h=(0,N.TH)();return(0,s.useEffect)((function(){d("/users",{page:"".concat(n),count:"".concat(a),term:"".concat(o.term),friend:"".concat(o.friend)})}),[o,n,a]),(0,s.useEffect)((function(){var r=new URLSearchParams(h.search),s=n,i=o,l=r.get("friend"),c=r.get("page"),u=r.get("term");switch(c&&(s=+c),u&&(i=(0,t.Z)((0,t.Z)({},i),{},{term:u})),l){case"null":i=(0,t.Z)((0,t.Z)({},i),{},{friend:null});break;case"true":i=(0,t.Z)((0,t.Z)({},i),{},{friend:!0});break;case"false":i=(0,t.Z)((0,t.Z)({},i),{},{friend:!1})}e((0,y.Rf)(s,a,i))}),[h.search]),(0,m.jsxs)("div",{children:[(0,m.jsx)(k,{onFilterChanged:function(n){e((0,y.Rf)(1,a,n))}}),(0,m.jsx)(x,{currentPage:n,onPageChanged:function(n){e((0,y.Rf)(n,a,o))},totalItemsCount:r,pageSize:a}),(0,m.jsx)("div",{className:p,children:l.map((function(e){return(0,m.jsx)(P,{user:e,followingInProgress:c,unfollowUser:f,followUser:u})}))})]})},F=r(1471),I=function(){var e=(0,i.v9)(S.ab);return(0,m.jsxs)(m.Fragment,{children:[e?(0,m.jsx)(F.Z,{}):null,(0,m.jsx)(U,{})]})}},4353:function(e,n,r){e.exports=r.p+"static/media/user.a1158b938d4f9c73d102.png"}}]);
//# sourceMappingURL=476.65415211.chunk.js.map