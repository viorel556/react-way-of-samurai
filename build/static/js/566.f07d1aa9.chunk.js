"use strict";(self.webpackChunkreact_way_of_samurai=self.webpackChunkreact_way_of_samurai||[]).push([[566],{1566:function(s,e,i){i.r(e),i.d(e,{default:function(){return Q}});var n=i(2791),t=i(9439),r="ProfileInfo_descriptionBlock__XBXuJ",o="ProfileInfo_profileImage__5Evr1",l="ProfileInfo_contactStyle__qxcbv",a="ProfileInfo_formSummaryError__YIVIc",c="ProfileInfo_imageSection__GBMML",d="ProfileInfo_profileDetailsSection__LOSFf",u="ProfileInfo_status__YrBI5",f="ProfileInfo_editBtn__ckmIr",x="ProfileInfo_editImgInput__U5bol",j="ProfileInfo_editImgBtn__ZwGEo",h=i(1471),m=i(184),_=function(s){var e=(0,n.useState)(!1),i=(0,t.Z)(e,2),r=i[0],o=i[1],l=(0,n.useState)(s.status),a=(0,t.Z)(l,2),c=a[0],d=a[1];(0,n.useEffect)((function(){d(s.status)}),[s.status]);return(0,m.jsxs)("div",{className:u,children:[!r&&(0,m.jsx)("div",{children:(0,m.jsxs)("span",{onDoubleClick:function(){o(!0)},children:[(0,m.jsx)("b",{children:"Status: "})," ",s.status||"---------","  "]})}),r&&(0,m.jsx)("div",{children:(0,m.jsx)("input",{onBlur:function(){o(!1),s.updateMyStatus(c)},onChange:function(s){d(s.currentTarget.value)},value:c})})]})},v=i(4353),p=i(1117),b=i(704),P=(0,b.Z)({form:"edit-profile"})((function(s){var e=s.handleSubmit,i=s.profile,n=s.error;return(0,m.jsxs)("form",{onSubmit:e,children:[(0,m.jsxs)("div",{children:[" ",(0,m.jsx)("button",{children:" SAVE "})," "]}),n&&(0,m.jsx)("div",{className:a,children:n}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Full name: "}),(0,p.Gr)("Full Name","fullName",[],p.II)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Looking for a job: "}),(0,p.Gr)("","lookingForAJob",[],p.II,{type:"checkbox"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"My professional skills: "}),(0,p.Gr)("My professional skills","lookingForAJobDescription",[],p.gx)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"About me: "}),(0,p.Gr)("About me","aboutMe",[],p.gx)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Contacts: "})," ",Object.keys(i.contacts).map((function(s){return(0,m.jsx)("div",{className:l,children:(0,m.jsxs)("b",{children:[s,": ",(0,p.Gr)(s,"contacts."+s,[],p.II)," "]})},s)}))]})]})})),g=function(s){var e=s.profile,i=s.isOwner,n=s.goToEditMode;return(0,m.jsxs)("div",{className:d,children:[(0,m.jsx)("h1",{children:e.fullName}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"About me: "})," ",e.aboutMe||"..."]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Looking for a job:"})," ",e.lookingForAJob?"Yes":"No"]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"My professional skills: "})," ",e.lookingForAJob?e.lookingForAJobDescription:""]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Contacts: "})," ",Object.keys(e.contacts).map((function(s){return(0,m.jsx)(I,{contactTitle:s,contactValue:e.contacts[s]})}))]}),i&&(0,m.jsx)("div",{children:(0,m.jsx)("button",{className:f,onClick:n,children:"Edit Profile"})})]})},I=function(s){var e=s.contactTitle,i=s.contactValue;return(0,m.jsxs)("div",{className:l,children:[(0,m.jsx)("b",{children:e}),": ",i," "]})},k=function(s){var e=s.profile,i=s.status,l=s.updateMyStatus,a=s.isOwner,d=s.savePhoto,u=s.saveProfile,f=(0,n.useState)(!1),p=(0,t.Z)(f,2),b=p[0],I=p[1];if(!e)return(0,m.jsx)(h.Z,{});return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:r,children:[(0,m.jsxs)("div",{className:c,children:[(0,m.jsx)("img",{src:e.photos.large||v,className:o}),(0,m.jsx)(_,{status:i,updateMyStatus:l}),(0,m.jsx)("div",{children:a&&(0,m.jsxs)("div",{children:[(0,m.jsx)("input",{type:"file",id:"fileInput",className:x,onChange:function(s){s.target.files&&d(s.target.files[0])}}),(0,m.jsx)("label",{htmlFor:"fileInput",className:j,children:"Upload Image"})]})})]}),(0,m.jsx)("div",{children:b?(0,m.jsx)(P,{onSubmit:function(s){u(s).then((function(){return I(!1)}))},initialValues:e,profile:e}):(0,m.jsx)(g,{profile:e,isOwner:a,goToEditMode:function(){return I(!0)}})})]})})},N=i(8687),y=i(81),S=i(1101),M=i(7781),A=i(8880),w=i(2932),C="MyPosts_postsBlock__lB-pf",T="MyPosts_posts__GSiZ2",Z="MyPosts_addPostButton__ubqZk",B="MyPosts_reduxTextArea__KPzQu",E="Post_item__Yu4oG",F="Post_message__tf0hV",G="Post_imageAndMessage__zqu-9",J=function(s){return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:E,children:[(0,m.jsxs)("div",{className:G,children:[(0,m.jsx)("img",{src:v}),(0,m.jsx)("p",{className:F,children:s.message})]}),(0,m.jsxs)("span",{children:[" ",s.likes," likes "]})]})})},O=i(6139),q=i(3079),V=(0,b.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,m.jsx)("form",{onSubmit:s.handleSubmit,children:(0,m.jsxs)("div",{children:[(0,m.jsx)(O.Z,{component:p.gx,name:"newPostText",validate:[q.C,(0,q.D)(25)],placeholder:"Enter your post",className:B}),(0,m.jsx)("button",{className:Z,children:"Add Post"})]})})})),D=i(3292),L=y.Nw.addPostActionCreator,Y=n.memo((function(s){var e=(0,S.T)(),i=(0,N.v9)(D.Jq);(0,N.v9)(D.G1);var n=i.map((function(s){return(0,m.jsx)(J,{message:s.message,likes:s.likesCount},s.id)}));return(0,m.jsxs)("div",{className:C,children:[(0,m.jsx)("h3",{children:" My Posts "}),(0,m.jsx)(V,{onSubmit:function(s){!function(s){e(L(s))}(s.newPostText),s.newPostText=""}}),(0,m.jsx)("div",{className:T,children:n})]})})),z="Profile_container__-cCQ9",Q=(0,M.qC)(A.Z,w.Z)((function(s){var e=(0,S.T)();var i=(0,N.v9)(D.Ai),t=(0,N.v9)(D.iI),r=(0,N.v9)(D.lR),o=s.router.params.userId,l=function(s,e){return e||(e=s),s===e}(t,o);return(0,n.useEffect)((function(){!function(){var i=s.router.params.userId;i||(i=t),e((0,y.PR)(i)),e((0,y.Tq)(i))}()}),[]),(0,m.jsxs)("div",{className:z,children:[(0,m.jsx)(k,{profile:i,isOwner:l,status:r,saveProfile:y.Ii,updateMyStatus:y.NT,savePhoto:y.Ju}),(0,m.jsx)(Y,{})]})}))},4353:function(s,e,i){s.exports=i.p+"static/media/user.a1158b938d4f9c73d102.png"}}]);
//# sourceMappingURL=566.f07d1aa9.chunk.js.map